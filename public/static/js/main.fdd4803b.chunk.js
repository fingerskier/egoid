(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(6),i=n.n(s),u=(n(12),n(2)),o=(n(13),n(3)),j=n.n(o),b=n(4);function l(){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(j.a.mark((function e(){var t,n,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",sessionStorage.loading=!0,e.prev=2,e.next=5,fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 5:return n=e.sent,sessionStorage.loading=!1,e.abrupt("return",n.json());case 10:return e.prev=10,e.t0=e.catch(2),sessionStorage.loading=!1,console.error(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function d(){return p.apply(this,arguments)}function p(){return(p=Object(b.a)(j.a.mark((function e(){var t,n,c,a,r=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},sessionStorage.loading=!0,e.prev=3,c=JSON.stringify(n),e.next=7,fetch(t,{method:"POST",body:"".concat(c),headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:return a=e.sent,sessionStorage.loading=!1,e.next=11,a.json();case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(3),sessionStorage.loading=!1,console.error(e.t0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function x(){return h.apply(this,arguments)}function h(){return(h=Object(b.a)(j.a.mark((function e(){var t,n,c,a,r=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},sessionStorage.loading=!0,e.prev=3,c=JSON.stringify(n),e.next=7,fetch(t,{method:"PUT",body:"".concat(c),headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:return a=e.sent,sessionStorage.loading=!1,e.next=11,a.json();case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(3),sessionStorage.loading=!1,console.error(e.t0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}var f=function(e){var t=e.quest_id,n=Object(a.useRef)(null),r=Object(a.useState)(0),s=Object(u.a)(r,2),i=s[0],o=s[1],j=Object(a.useState)(0),b=Object(u.a)(j,2),l=b[0],O=b[1],d=Object(a.useState)(0),p=Object(u.a)(d,2),h=p[0],f=p[1],v=Object(a.useState)(0),m=Object(u.a)(v,2),g=m[0],S=m[1],y=Object(a.useRef)(null),k=Object(a.useState)(!1),C=Object(u.a)(k,2),q=C[0],w=C[1];function T(){w(!q)}return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),x("task",{quest_id:t,name:n.current.value,description:y.current.value}).then((function(){return console.log("saved")})),T(),!1},children:[Object(c.jsx)("h3",{onClick:T,children:"Add a Task"}),Object(c.jsxs)("fieldset",{className:"".concat(q?"0":"invisible"),children:[Object(c.jsx)("input",{name:"name",placeholder:"New Task",ref:n,type:"text"}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{name:"description",placeholder:"Description",ref:y}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Emotion:\xa0",Object(c.jsx)("input",{name:"emotion",onChange:function(e){return o(e.target.value)},value:i,type:"range",min:"0",max:"3",step:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Intellect:\xa0",Object(c.jsx)("input",{name:"intellect",onChange:function(e){return O(e.target.value)},value:l,type:"range",min:"0",max:"3",step:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Physique:\xa0",Object(c.jsx)("input",{name:"physique",onChange:function(e){return f(e.target.value)},value:h,type:"range",min:"0",max:"3",step:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Social:\xa0",Object(c.jsx)("input",{name:"social",onChange:function(e){return S(e.target.value)},value:g,type:"range",min:"0",max:"3",step:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{children:"Add Task"})]})]})})};var v=function(e){var t=e.id,n=Object(a.useState)("unk"),r=Object(u.a)(n,2),s=r[0],i=r[1],o=Object(a.useState)(!1),j=Object(u.a)(o,2),b=j[0],O=j[1],p=Object(a.useState)(0),x=Object(u.a)(p,2),h=x[0],f=x[1],v=Object(a.useState)(0),m=Object(u.a)(v,2),g=m[0],S=m[1],y=Object(a.useState)("loading..."),k=Object(u.a)(y,2),C=k[0],q=k[1],w=Object(a.useState)(0),T=Object(u.a)(w,2),N=T[0],E=T[1],D=Object(a.useState)(0),_=Object(u.a)(D,2),A=(_[0],_[1],Object(a.useState)(0)),F=Object(u.a)(A,2),P=F[0],L=F[1];return Object(a.useEffect)((function(){l("task/".concat(t)).then((function(e){var n=e[0];n&&n.rowid===t&&(i(n.description),f(n.emotion),S(n.intellect),q(n.name),E(n.physique),L(n.social))}))}),[t]),Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:C,description:s,emotion:h,physique:N,social:P,intellect:g};return d("task/".concat(t),n),O(!b),!1},children:[Object(c.jsx)("input",{name:"name",placeholder:"New Task",type:"text",value:C,onChange:function(e){return q(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{name:"description",placeholder:"Description",value:s,onChange:function(e){return i(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Emotion:\xa0",Object(c.jsx)("input",{name:"emotion",onChange:function(e){return f(e.target.value)},value:h,type:"range",min:"0",max:"3",step:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Intellect:\xa0",Object(c.jsx)("input",{name:"intellect",onChange:function(e){return S(e.target.value)},value:g,type:"range",min:"0",max:"3",step:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Physique:\xa0",Object(c.jsx)("input",{name:"physique",onChange:function(e){return E(e.target.value)},value:N,type:"range",min:"0",max:"3",step:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Social:\xa0",Object(c.jsx)("input",{name:"social",onChange:function(e){return L(e.target.value)},value:P,type:"range",min:"0",max:"3",step:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{children:"Update Task"})]})})};var m=function(e){var t=e.id,n=Object(a.useState)("unk"),r=Object(u.a)(n,2),s=(r[0],r[1]),i=Object(a.useState)(!1),o=Object(u.a)(i,2),j=o[0],b=o[1],O=Object(a.useState)("loading..."),d=Object(u.a)(O,2),p=d[0],x=d[1];return Object(a.useEffect)((function(){l("task/".concat(t)).then((function(e){var t=e[0];t&&(s(t.description),x(t.name))}))}),[t]),Object(c.jsxs)("div",{className:"task",children:[Object(c.jsx)("h3",{onClick:function(){b(!j)},children:p}),j?Object(c.jsx)(v,{id:t}):Object(c.jsx)(c.Fragment,{})]})};var g=function(e){var t=e.quest_id,n=void 0===t?0:t,r=Object(a.useState)({name:"Top Level"}),s=Object(u.a)(r,2),i=(s[0],s[1]),o=Object(a.useState)([]),j=Object(u.a)(o,2),b=j[0],O=j[1];return Object(a.useEffect)((function(){console.log(n),l("task/".concat(n)).then((function(e){var t=e[0];t||(t={name:"Top-Level"}),i(t),console.log("parent",t)})),l("task/all/".concat(n)).then((function(e){return O(e)}))}),[n]),Object(c.jsxs)("div",{className:"tasks",children:["Tasks",Object(c.jsx)("br",{}),Object(c.jsx)(f,{quest_id:n}),b.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("hr",{}),Object(c.jsx)(m,{id:e.rowid})]},e.rowid)}))]})};var S=function(e){var t=e.id,n=Object(a.useState)([]),r=Object(u.a)(n,2),s=(r[0],r[1],Object(a.useState)("loading...")),i=Object(u.a)(s,2),o=i[0],j=i[1],b=Object(a.useState)(!1),O=Object(u.a)(b,2),p=O[0],x=O[1],h=Object(a.useState)(-7),f=Object(u.a)(h,2),v=f[0],m=f[1],S=Object(a.useState)("loading..."),y=Object(u.a)(S,2),C=y[0],q=y[1];function w(){x(!p)}return Object(a.useEffect)((function(){l("quest/".concat(t)).then((function(e){var n=e[0];console.log("quest/".concat(t),n),n&&(m(n.rowid),q(n.name),j(n.description))}))}),[t]),Object(c.jsxs)("div",{className:"quest",children:[Object(c.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),d("quest/".concat(t),{name:C,description:o}),w(),!1},children:[Object(c.jsxs)("h1",{onClick:w,children:[C,", ",t]}),Object(c.jsxs)("fieldset",{className:"".concat(p?"0":"invisible"),children:[Object(c.jsx)("input",{name:"rowid",type:"hidden",value:v}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{name:"name",type:"text",value:C,onChange:function(e){return q(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{name:"description",type:"text",value:o,onChange:function(e){return j(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{children:"Save Quest"})]})]}),p?Object(c.jsxs)("div",{children:[Object(c.jsx)(k,{id:t}),Object(c.jsx)(g,{quest_id:t})]}):Object(c.jsx)(c.Fragment,{})]})};var y=function(e){var t=e.parent_id,n=void 0===t?0:t,r=Object(a.useRef)(null),s=Object(a.useRef)(null),i=Object(a.useState)(!1),o=Object(u.a)(i,2),j=o[0],b=o[1],l=n?"Add Sub-Quest":"Add Quest Line";return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),x("quest",{description:r.current.value,name:s.current.value,parent_id:n}),!1},children:[Object(c.jsx)("h2",{onClick:function(){b(!j)},children:l}),Object(c.jsxs)("fieldset",{className:"".concat(j?"0":"invisible"),children:[Object(c.jsx)("input",{ref:s,placeholder:"New Quest"}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{ref:r,placeholder:"Description"}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{children:"Save"})]})]})})};var k=function(e){var t=e.id,n=Object(a.useState)([]),r=Object(u.a)(n,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){l("quest/all/".concat(t)).then((function(e){i(e)}))}),[t]),Object(c.jsxs)("div",{className:"children",children:[Object(c.jsx)(y,{parent_id:t}),s.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{}),Object(c.jsx)(S,{id:e.rowid,name:e.name})]},e.rowid)}))]})};var C=function(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),n=t[0],r=(t[1],Object(a.useState)([])),s=Object(u.a)(r,2),i=(s[0],s[1]);return Object(a.useState)(0),Object(a.useEffect)((function(){return l("quest/parents").then((function(e){console.log("quests",e),i(e)})),function(){i([])}}),[n]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Egoid"}),Object(c.jsx)(k,{id:0})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),q()}},[[15,1,2]]]);
//# sourceMappingURL=main.fdd4803b.chunk.js.map